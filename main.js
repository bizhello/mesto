(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.d({},{H:()=>J,k:()=>H});var r=function(){function e(t,r,o,i,a,u,c,l,s){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"_setListener",(function(){p.view.querySelector(".element__like").addEventListener("click",p._handleLikeCard),p.view.querySelector(".element__trash").addEventListener("click",p._handleDeleteIconClick),p._cardImage.addEventListener("click",p._handleCardClick)})),n(this,"createCard",(function(){return p.view=p._template.content.cloneNode(!0).querySelector(".element"),p._cardImage=p.view.querySelector(".element__photo"),p.view.querySelector(".element__title").textContent=p._elementTitle,p._cardImage.alt=p._elementTitle,p._cardImage.src=p._elementPhoto,p.view.querySelector(".element__number").textContent=p._numberLikes,p._setListener(),void 0!==p._likes&&p._likes.forEach((function(e){e._id===H&&p.view.querySelector(".element__like").classList.add("element__like_active")})),H!==p._ownerId&&(p.view.querySelector(".element__trash").style.display="none"),null==p._ownerId&&(p.view.querySelector(".element__trash").style.display="block"),p.view})),this._elementTitle=t,this._elementPhoto=r,this._template=document.querySelector(o),this._handleCardClick=i,this._numberLikes=a,this._ownerId=u,this._likes=c,this._handleDeleteIconClick=l,this._handleLikeCard=s}var r,o;return r=e,(o=[{key:"removeElement",value:function(){this.view.remove(),this.view=null}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),e}(),o={nameError:"popup__name_error",buttonInvalid:"popup__button_invalid",buttonValid:"popup__button_valid",buttonSubmit:".popup__button"};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_handleFormSubmit",(function(e){e.preventDefault()})),a(this,"_handleFormInput",(function(e){var t=e.target;r._setCustomError(t),r.setSubmitButtonState()})),a(this,"_setCustomError",(function(e){e.validity.valid?(e.classList.remove(r._config.nameError),document.querySelector("#".concat(e.id,"-error")).textContent=""):(e.classList.add(r._config.nameError),document.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage)})),a(this,"setSubmitButtonState",(function(){r._formElement.checkValidity()?(r._button.classList.remove(r._config.buttonInvalid),r._button.classList.add(r._config.buttonValid),r._button.removeAttribute("disabled")):(r._button.classList.add(r._config.buttonInvalid),r._button.classList.remove(r._config.buttonValid),r._button.setAttribute("disabled","true"))})),this._config=t,this._formElement=n,this._button=this._formElement.querySelector(this._config.buttonSubmit)}var t,n;return t=e,(n=[{key:"setEventListeners",value:function(){this._formElement.addEventListener("submit",this._handleFormSubmit),this._formElement.addEventListener("input",this._handleFormInput)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this.popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this.popup.classList.remove("popup_opened"),this.popup.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this.popup.addEventListener("mousedown",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=d(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._callbackSubmitForm=e,n._inputList=n.popup.querySelectorAll(".popup__name"),n._form=n.popup.querySelector(".popup__container"),n}return t=a,(n=[{key:"close",value:function(){f(_(a.prototype),"close",this).call(this),this._form.reset()}},{key:"_getInputValues",value:function(){var e=this;return this.values={},this._inputList.forEach((function(t){e.values[t.name]=t.value})),this.values}},{key:"setEventListeners",value:function(){var e=this;f(_(a.prototype),"setEventListeners",this).call(this),this.popup.addEventListener("submit",(function(t){t.preventDefault(),e._callbackSubmitForm(e._getInputValues())}))}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function k(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imagePopup=t.popup.querySelector(".popup-fullscreen__image"),t._titlePopup=t.popup.querySelector(".popup-fullscreen__title"),t}return t=a,(n=[{key:"open",value:function(e,t){this._imagePopup.src=t,this._imagePopup.alt=e,this._titlePopup.textContent=e,g(E(a.prototype),"open",this).call(this)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(l);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._containerSelector=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderSection",value:function(){var e=this;J.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._containerSelector.append(e)}},{key:"addItemSubmit",value:function(e){this._containerSelector.prepend(e)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(t),this._profileStatus=document.querySelector(n),this._prifileAvatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return this.values={name:this._profileName.textContent,status:this._profileStatus.textContent},this.values}},{key:"setUserInfo",value:function(e,t){this._profileName.textContent=e,this._profileStatus.textContent=t}},{key:"setUserAvatar",value:function(e){this._prifileAvatar.src=e}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("https://nomoreparties.co/v1/cohort-41/users/me",{method:"GET",headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._url+"cards",{method:"GET",headers:this._headers}).then((function(t){return e._getResponseData(t)}))}},{key:"editUserInfo",value:function(e,t){var n=this;return fetch(this._url+"users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return n._getResponseData(e)}))}},{key:"createCard",value:function(e,t){var n=this;return fetch(this._url+"cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:"".concat(e),link:"".concat(t),likes:[]})}).then((function(e){return n._getResponseData(e)}))}},{key:"likeCard",value:function(e){var t=this;return fetch(this._url+"cards/".concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteLikeCard",value:function(e){var t=this;return fetch(this._url+"cards/".concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch(this._url+"cards/".concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"changePhotoProfile",value:function(e){var t=this;return fetch(this._url+"users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:"".concat(e)})}).then((function(e){return t._getResponseData(e)}))}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),R=(document.querySelector(".elements"),document.querySelector(".profile__name"),document.querySelector(".profile__status"),document.querySelector(".profile__avatar")),T=document.querySelector(".profile__button"),D=document.querySelector(".popup-add-element__container"),x=document.querySelector(".profile__change-avatar"),U=document.querySelector(".profile__edit"),A=document.querySelector(".profile-popup__container"),B=document.querySelector("#popup-status"),N=document.querySelector("#popup-name"),F=document.querySelector(".profile__box-avatar"),V=document.querySelector(".popup-edit-avatar__container"),H=(document.querySelector(".popup-edit-avatar__button"),""),J=[],G=new v((function(e){K(!0,".popup-edit-avatar__button"),z.changePhotoProfile(e["popup-edit-avatar-src"]).then((function(){X.setUserAvatar(e["popup-edit-avatar-src"]),G.close()})).catch((function(e){console.log(e)})).finally((function(){K(!1,".popup-edit-avatar__button")}))}),".popup-edit-avatar");G.setEventListeners(),F.addEventListener("click",(function(){ee.setSubmitButtonState(),G.open()})),F.addEventListener("mouseout",(function(){x.style.display="none",R.style.opacity="1"})),F.addEventListener("mouseover",(function(){x.style.display="block",R.style.opacity="0.6"}));var z=new I({url:"https://mesto.nomoreparties.co/v1/cohort-41/",headers:{authorization:"a8fa9cc1-52e1-4272-a720-87f73d0acb6d","content-type":"application/json"}});z.getInitialCards().then((function(e){return J=e})).then((function(){Q.renderSection()})).catch((function(e){console.log(e)}));var M=new l(".popup-delete-card");function K(e,t){document.querySelector(t).textContent=e?"Сохранение...":"Сохранить"}M.setEventListeners(),z.getUserInfo().then((function(e){return X.setUserInfo(e.name,e.about),X.setUserAvatar(e.avatar),H=e._id})).catch((function(e){console.log(e)}));var Q=new L((function(e){Q.addItem($(e.name,e.link,e.likes.length,e._id,e.owner._id,e.likes))}),".elements"),W=new v((function(e){K(!0,".profile-popup__button"),z.editUserInfo(W.values["popup-name"],W.values["popup-status"]).then((function(){X.setUserInfo(e["popup-name"],e["popup-status"]),W.close()})).catch((function(e){console.log(e)})).finally((function(){K(!1,".profile-popup__button")}))}),".profile-popup");W.setEventListeners();var X=new j(".profile__name",".profile__status",".profile__avatar"),Y=new O(".popup-fullscreen");Y.setEventListeners();var Z=new v((function(e){K(!0,".popup-add-element__button"),z.createCard(e["popup-add-element-name"],e["popup-add-element-src"]).then((function(){Z.close(),Q.addItemSubmit($(e["popup-add-element-name"],e["popup-add-element-src"]))})).catch((function(e){console.log(e)})).finally((function(){K(!1,".popup-add-element__button")}))}),".popup-add-element");function $(e,t,n,o,i,a){var u=new r(e,t,".template",(function(){Y.open(e,t)}),n,i,a,(function(){M.open(),document.querySelector(".popup-delete-card__button").addEventListener("click",(function(){z.deleteCard(o).then((function(){u.removeElement(),M.close()})).catch((function(e){M.close(),console.log(e,"удаление карточки без присвоенного ID")}))}))}),(function(e){e.target.classList.toggle("element__like_active"),e.target.classList.contains("element__like_active")?z.likeCard(o).then((function(){u.view.querySelector(".element__number").textContent++})).catch((function(e){console.log(e,"не присвоен ID")})):z.deleteLikeCard(o).then((function(){u.view.querySelector(".element__number").textContent--})).catch((function(e){console.log(e,"не присвоен ID")}))}));return u.createCard()}Z.setEventListeners(),U.addEventListener("click",(function(){var e=X.getUserInfo();N.value=e.name,B.value=e.status,te.setSubmitButtonState(),W.open()})),T.addEventListener("click",(function(){ne.setSubmitButtonState(),Z.open()}));var ee=new u(o,V),te=new u(o,A),ne=new u(o,D);te.setEventListeners(),ne.setEventListeners(),ee.setEventListeners()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGtEQUc5QixTQUFDaEcsR0FDQUEsRUFBSUcsT0FBT2xCLFVBQVU2SSxPQUFPLHdCQUMxQjlILEVBQUlHLE9BQU9sQixVQUFVeUMsU0FBUyx3QkFDOUJpRSxFQUFJb0MsU0FBU2xELEdBQ1JQLE1BQUssV0FDRnFELEVBQUtqSyxLQUFLQyxjQUFjLG9CQUFvQlMsaUJBRS9DMkgsT0FBTSxTQUFDQyxHQUNKQyxRQUFRQyxJQUFJRixFQUFLLHFCQUl6QkwsRUFBSXFDLGVBQWVuRCxHQUNkUCxNQUFLLFdBQ0ZxRCxFQUFLakssS0FBS0MsY0FBYyxvQkFBb0JTLGlCQUUvQzJILE9BQU0sU0FBQ0MsR0FDSkMsUUFBUUMsSUFBSUYsRUFBSyx3QkFJL0IsT0FBTzJCLEVBQUtWLGFBdERkTSxFQUFjbkIsb0JBMERkbEIsRUFBWXRILGlCQUFpQixTQUFTLFdBQ3BDLElBQU1xSyxFQUFXcEMsRUFBZ0JpQixjQUNqQ3pCLEVBQVVoRCxNQUFRNEYsRUFBUzdGLEtBQzNCZ0QsRUFBWS9DLE1BQVE0RixFQUFTeEUsT0FDN0J5RSxHQUFvQjdILHVCQUNsQitHLEVBQWFkLFVBSWpCdkIsRUFBaUJuSCxpQkFBaUIsU0FBUyxXQUN6Q3VLLEdBQW9COUgsdUJBQ3BCa0gsRUFBY2pCLFVBRWhCLElBQU1ELEdBQXFCLElBQUl2RyxFQUFjTCxFQUFROEYsR0FDL0MyQyxHQUFzQixJQUFJcEksRUFBY0wsRUFBUTBGLEdBQ2hEZ0QsR0FBc0IsSUFBSXJJLEVBQWNMLEVBQVF1RixHQUV0RGtELEdBQW9COUIsb0JBQ3BCK0IsR0FBb0IvQixvQkFDcEJDLEdBQW1CRCxxQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCB7cHJvZmlsZUlkfSBmcm9tICcuLy4uL3BhZ2VzL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnRUaXRsZSwgZWxlbWVudFBob3RvLCB0ZW1wbGF0ZSwgaGFuZGxlQ2FyZENsaWNrLCBudW1iZXJMaWtlcywgb3duZXJJZCwgbGlrZXMsIGhhbmRsZURlbGV0ZUljb25DbGljaywgaGFuZGxlTGlrZUNhcmQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudFRpdGxlID0gZWxlbWVudFRpdGxlO1xuICAgICAgICB0aGlzLl9lbGVtZW50UGhvdG8gPSBlbGVtZW50UGhvdG87XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICAgICAgdGhpcy5fbnVtYmVyTGlrZXMgPSBudW1iZXJMaWtlcztcbiAgICAgICAgdGhpcy5fb3duZXJJZCA9IG93bmVySWQ7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUljb25DbGljayA9IGhhbmRsZURlbGV0ZUljb25DbGljaztcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcbiAgICB9XG5cbiAgICByZW1vdmVFbGVtZW50KCkge1xuICAgICAgICB0aGlzLnZpZXcucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG4gICAgfVxuXG4gICAgX3NldExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnZpZXcucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUxpa2VDYXJkKTtcbiAgICAgICAgdGhpcy52aWV3LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190cmFzaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLl9oYW5kbGVEZWxldGVJY29uQ2xpY2spO1xuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJkQ2xpY2spO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhcmQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMudmlldyA9IHRoaXMuX3RlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50Jyk7XG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMudmlldy5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fcGhvdG8nKTtcbiAgICAgICAgdGhpcy52aWV3LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fZWxlbWVudFRpdGxlO1xuICAgICAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fZWxlbWVudFRpdGxlO1xuICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fZWxlbWVudFBob3RvO1xuICAgICAgICB0aGlzLnZpZXcucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX251bWJlcicpLnRleHRDb250ZW50ID0gdGhpcy5fbnVtYmVyTGlrZXM7XG4gICAgICAgIHRoaXMuX3NldExpc3RlbmVyKCk7XG4gICAgICAgIGlmKHRoaXMuX2xpa2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpa2VzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZihpdGVtLl9pZCA9PT0gcHJvZmlsZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZScpLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZihwcm9maWxlSWQgIT09IHRoaXMuX293bmVySWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190cmFzaCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuX293bmVySWQgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlldztcbiAgIH1cbn1cblxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgICBuYW1lRXJyb3IgOiAncG9wdXBfX25hbWVfZXJyb3InLFxuICAgIGJ1dHRvbkludmFsaWQ6ICdwb3B1cF9fYnV0dG9uX2ludmFsaWQnLFxuICAgIGJ1dHRvblZhbGlkIDogJ3BvcHVwX19idXR0b25fdmFsaWQnLFxuICAgIGJ1dHRvblN1Ym1pdDonLnBvcHVwX19idXR0b24nLFxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuYnV0dG9uU3VibWl0KTtcbiAgICB9XG5cbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCk7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgIHRoaXMuX2hhbmRsZUZvcm1JbnB1dCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUZvcm1TdWJtaXQgPSAoZXZ0KSA9PiB7XG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVGb3JtSW5wdXQgPSAoZXZ0KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZXZ0LnRhcmdldDtcbiAgICAgICAgdGhpcy5fc2V0Q3VzdG9tRXJyb3IoaW5wdXQpO1xuICAgICAgICB0aGlzLnNldFN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gICAgfVxuXG4gICAgX3NldEN1c3RvbUVycm9yID0gKGlucHV0KSA9PiB7XG4gICAgICAgIGlmKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcubmFtZUVycm9yKTtcbiAgICAgICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgICAgfSAgZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5uYW1lRXJyb3IpO1xuICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTdWJtaXRCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9IHRoaXMuX2Zvcm1FbGVtZW50LmNoZWNrVmFsaWRpdHkoKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5idXR0b25JbnZhbGlkKTtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5idXR0b25WYWxpZCk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuYnV0dG9uSW52YWxpZCk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuYnV0dG9uVmFsaWQpO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3Ioc2VsZWN0b3JQb3B1cCkge1xuICAgICAgICB0aGlzLnBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvclBvcHVwKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgICAgICB0aGlzLnBvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgICB9XG5cbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgaWYoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFja1N1Ym1pdEZvcm0gLHNlbGVjdG9yUG9wdXApIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0Rm9ybSA9IGNhbGxiYWNrU3VibWl0Rm9ybTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX25hbWUnKTtcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXInKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgICB9XG4gICAgX2dldElucHV0VmFsdWVzKCkge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHt9O1xuICAgICAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNbaW5wdXRFbGVtZW50Lm5hbWVdID0gaW5wdXRFbGVtZW50LnZhbHVlO1xuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXM7XG4gICAgfVxuXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja1N1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cblxuXG5cblxuXG4iLCJpbXBvcnQge1BvcHVwfSBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yUG9wdXApIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0b3JQb3B1cCk7XG4gICAgICAgIHRoaXMuX2ltYWdlUG9wdXAgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1mdWxsc2NyZWVuX19pbWFnZScpO1xuICAgICAgICB0aGlzLl90aXRsZVBvcHVwID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtZnVsbHNjcmVlbl9fdGl0bGUnKTtcbiAgICB9XG4gICAgb3BlbihlbGVtZW50VGl0bGUsIGVsZW1lbnRQaG90bykge1xuICAgICAgICB0aGlzLl9pbWFnZVBvcHVwLnNyYyA9IGVsZW1lbnRQaG90bztcbiAgICAgICAgdGhpcy5faW1hZ2VQb3B1cC5hbHQgPSBlbGVtZW50VGl0bGU7XG4gICAgICAgIHRoaXMuX3RpdGxlUG9wdXAudGV4dENvbnRlbnQgPSBlbGVtZW50VGl0bGU7XG5cbiAgICAgICAgc3VwZXIub3BlbigpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7YXBpSXRlbXN9IGZyb20gJy4vLi4vcGFnZXMvaW5kZXgnXG5cbmV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICByZW5kZXJTZWN0aW9uKCkge1xuICAgICAgICBhcGlJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBhZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyU2VsZWN0b3IuYXBwZW5kKGl0ZW0pO1xuICAgIH1cblxuICAgIGFkZEl0ZW1TdWJtaXQoaXRlbSkge1xuICAgICAgICB0aGlzLl9jb250YWluZXJTZWxlY3Rvci5wcmVwZW5kKGl0ZW0pO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICAgIGNvbnN0cnVjdG9yKHByb2ZpbGVOYW1lLCBwcm9maWxlU3RhdHVzLCBwcm9maWxlQXZhdGFyKSB7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZSk7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVTdGF0dXMpO1xuICAgICAgICB0aGlzLl9wcmlmaWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyKTtcbiAgICB9XG5cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgdGhpcy52YWx1ZXMgPSB7XG4gICAgICAgICAgICBuYW1lIDogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICAgICAgICBzdGF0dXMgOiB0aGlzLl9wcm9maWxlU3RhdHVzLnRleHRDb250ZW50XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzO1xuICAgIH1cblxuICAgIHNldFVzZXJJbmZvKG5hbWUsIHN0YXR1cykge1xuICAgICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3Byb2ZpbGVTdGF0dXMudGV4dENvbnRlbnQgPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgc2V0VXNlckF2YXRhcihzcmMpIHtcbiAgICAgICAgdGhpcy5fcHJpZmlsZUF2YXRhci5zcmMgPSBzcmM7XG4gICAgfVxufSIsImV4cG9ydCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKHt1cmwsIGhlYWRlcnN9KSB7XG4gICAgICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gICAgfVxuICAgIF9nZXRSZXNwb25zZURhdGEocmVzKSAge1xuICAgICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG5cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxL3VzZXJzL21lJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VybCsnY2FyZHMnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZWRpdFVzZXJJbmZvKG5hbWUsIHN0YXR1cykge1xuICAgICAgICByZXR1cm4gIGZldGNoKHRoaXMuX3VybCsndXNlcnMvbWUnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IHN0YXR1c1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGNyZWF0ZUNhcmQobmFtZSwgbGluaykge1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsKydjYXJkcycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBgJHtuYW1lfWAsXG4gICAgICAgICAgICAgICAgbGluazogYCR7bGlua31gLFxuICAgICAgICAgICAgICAgIGxpa2VzOiBbXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlRGF0YShyZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsK2BjYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVsZXRlTGlrZUNhcmQoY2FyZElkKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwrYGNhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsK2BjYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG4gICAgY2hhbmdlUGhvdG9Qcm9maWxlKGF2YXRhcikge1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fdXJsKyd1c2Vycy9tZS9hdmF0YXInLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGAke2F2YXRhcn1gXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2VEYXRhKHJlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG5cbiIsImltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJztcblxuaW1wb3J0IHtDYXJkfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQnO1xuaW1wb3J0IHtjb25maWd9IGZyb20gJy4uL2NvbXBvbmVudHMvY29uZmlnJztcbmltcG9ydCB7Rm9ybVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yJztcbmltcG9ydCB7UG9wdXBXaXRoRm9ybX0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtJztcbmltcG9ydCB7UG9wdXBXaXRoSW1hZ2V9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UnO1xuaW1wb3J0IHtTZWN0aW9ufSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24nO1xuaW1wb3J0IHtVc2VySW5mb30gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mbyc7XG5pbXBvcnQge0FwaX0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGknO1xuaW1wb3J0IHtQb3B1cH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBcIjtcblxuY29uc3QgZWxlbWVudFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHMnKTtcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmNvbnN0IHByb2ZpbGVTdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3RhdHVzJyk7XG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuY29uc3QgYnV0dG9uQWRkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24nKTtcbmNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLWFkZC1lbGVtZW50X19jb250YWluZXInKTtcbmNvbnN0IHByb2ZpbGVDaGFuZ2VBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fY2hhbmdlLWF2YXRhcicpO1xuY29uc3QgcHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdCcpO1xuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1wb3B1cF9fY29udGFpbmVyJyk7XG5jb25zdCBwb3B1cFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1zdGF0dXMnKTtcbmNvbnN0IHBvcHVwTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3B1cC1uYW1lJyk7XG5jb25zdCBib3hBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYm94LWF2YXRhcicpO1xuY29uc3QgZWRpdEF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtZWRpdC1hdmF0YXJfX2NvbnRhaW5lcicpO1xuY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1lZGl0LWF2YXRhcl9fYnV0dG9uJyk7XG5cbmV4cG9ydCBsZXQgcHJvZmlsZUlkID0gJyc7XG5leHBvcnQgbGV0IGFwaUl0ZW1zID0gW107XG5cblxuY29uc3QgcG9wdXBFZGl0QXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oIChkYXRhKSA9PiB7XG4gICAgcmVuZGVyTG9hZGluZyh0cnVlLCAnLnBvcHVwLWVkaXQtYXZhdGFyX19idXR0b24nKTtcbiAgYXBpLmNoYW5nZVBob3RvUHJvZmlsZShkYXRhWydwb3B1cC1lZGl0LWF2YXRhci1zcmMnXSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBpbmNsdWRlVXNlckluZm8uc2V0VXNlckF2YXRhcihkYXRhWydwb3B1cC1lZGl0LWF2YXRhci1zcmMnXSk7XG4gICAgICAgICAgcG9wdXBFZGl0QXZhdGFyLmNsb3NlKCk7XG4gICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsICcucG9wdXAtZWRpdC1hdmF0YXJfX2J1dHRvbicpO1xuICAgICAgfSlcbn0sICcucG9wdXAtZWRpdC1hdmF0YXInKTtcblxucG9wdXBFZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmJveEF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBlZGl0QXZhdGFyVmFsaWRpdHkuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICBwb3B1cEVkaXRBdmF0YXIub3BlbigpO1xufSk7XG5cbmJveEF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgcHJvZmlsZUNoYW5nZUF2YXRhci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBwcm9maWxlQXZhdGFyLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG59KVxuXG5ib3hBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICBwcm9maWxlQ2hhbmdlQXZhdGFyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBwcm9maWxlQXZhdGFyLnN0eWxlLm9wYWNpdHkgPSAnMC42Jztcbn0pXG5cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvJyxcbiAgaGVhZGVyczoge1xuICAgIFwiYXV0aG9yaXphdGlvblwiOiAnYThmYTljYzEtNTJlMS00MjcyLWE3MjAtODdmNzNkMGFjYjZkJyxcbiAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB9XG59KVxuXG4vL9C40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60LDRgNGC0L7Rh9C10Log0YEgYXBpXG5jb25zdCBhcGlHZXRJbml0aWFsQ2FyZHMgPSBhcGkuZ2V0SW5pdGlhbENhcmRzKCk7XG5hcGlHZXRJbml0aWFsQ2FyZHNcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBhcGlJdGVtcyA9IGRhdGE7XG4gICAgICAgIHJldHVybiBhcGlJdGVtcztcbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZHNDb250YWluZXIucmVuZGVyU2VjdGlvbigpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcblxuXG5cbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cCgnLnBvcHVwLWRlbGV0ZS1jYXJkJyk7XG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIHBvcHVwU2VsZWN0b3IpIHtcbiAgICBjb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3RvcilcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgIHBvcHVwLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBwb3B1cC50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbn1cblxuLy/Qv9C+0LvRg9GH0LXQvdC40LUg0LTQsNC90L3Ri9GFINC+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtSDRgSBhcGlcbmNvbnN0IGFwaUdldFVzZXJJbmZvID0gYXBpLmdldFVzZXJJbmZvKCk7XG5hcGlHZXRVc2VySW5mb1xuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBpbmNsdWRlVXNlckluZm8uc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLmFib3V0KTtcbiAgICAgIGluY2x1ZGVVc2VySW5mby5zZXRVc2VyQXZhdGFyKGRhdGEuYXZhdGFyKTtcbiAgICAgIHByb2ZpbGVJZCA9IGRhdGEuX2lkO1xuICAgICAgcmV0dXJuIHByb2ZpbGVJZDtcbn0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcblxuXG5jb25zdCBjYXJkc0NvbnRhaW5lciA9IG5ldyBTZWN0aW9uKChpdGVtKSA9PiB7XG4gICAgY2FyZHNDb250YWluZXIuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rLCBpdGVtLmxpa2VzLmxlbmd0aCwgaXRlbS5faWQsIGl0ZW0ub3duZXIuX2lkLCBpdGVtLmxpa2VzKSk7XG59LCAnLmVsZW1lbnRzJyk7XG5cblxuLy/RgdC80LXQvdCwINC40LzQtdC90Lgg0Lgg0YHRgtCw0YLRg9GB0LAg0YEgYXBpXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgoZGF0YSkgPT4ge1xuICByZW5kZXJMb2FkaW5nKHRydWUsJy5wcm9maWxlLXBvcHVwX19idXR0b24nKTtcbiAgYXBpLmVkaXRVc2VySW5mbyhwb3B1cFByb2ZpbGUudmFsdWVzWydwb3B1cC1uYW1lJ10sIHBvcHVwUHJvZmlsZS52YWx1ZXNbJ3BvcHVwLXN0YXR1cyddKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpbmNsdWRlVXNlckluZm8uc2V0VXNlckluZm8oZGF0YVsncG9wdXAtbmFtZSddLCBkYXRhWydwb3B1cC1zdGF0dXMnXSk7XG4gICAgICAgIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICByZW5kZXJMb2FkaW5nKGZhbHNlLCAnLnByb2ZpbGUtcG9wdXBfX2J1dHRvbicpO1xuICAgICAgICAgIH0pXG59LCAnLnByb2ZpbGUtcG9wdXAnKTtcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbmNsdWRlVXNlckluZm8gPSBuZXcgVXNlckluZm8oJy5wcm9maWxlX19uYW1lJywgJy5wcm9maWxlX19zdGF0dXMnLCAnLnByb2ZpbGVfX2F2YXRhcicpO1xuY29uc3QgZnVsbFNjcmVlblBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXAtZnVsbHNjcmVlbicpO1xuZnVsbFNjcmVlblBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShjYXJkRm9ybVN1Ym1pdCwnLnBvcHVwLWFkZC1lbGVtZW50Jyk7XG5wb3B1cENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGNhcmRGb3JtU3VibWl0KGRhdGEpIHtcbiAgcmVuZGVyTG9hZGluZyh0cnVlLCAnLnBvcHVwLWFkZC1lbGVtZW50X19idXR0b24nKVxuICBhcGkuY3JlYXRlQ2FyZChkYXRhWydwb3B1cC1hZGQtZWxlbWVudC1uYW1lJ10sIGRhdGFbJ3BvcHVwLWFkZC1lbGVtZW50LXNyYyddKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHBvcHVwQ2FyZEZvcm0uY2xvc2UoKTtcbiAgICAgICAgICBjYXJkc0NvbnRhaW5lci5hZGRJdGVtU3VibWl0KGNyZWF0ZUNhcmQoZGF0YVsncG9wdXAtYWRkLWVsZW1lbnQtbmFtZSddLCBkYXRhWydwb3B1cC1hZGQtZWxlbWVudC1zcmMnXSkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHJlbmRlckxvYWRpbmcoZmFsc2UsICcucG9wdXAtYWRkLWVsZW1lbnRfX2J1dHRvbicpO1xuICAgICAgfSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZCh0aXRsZSwgcGhvdG8sIG51bWJlckxpa2VzLCBjYXJkSWQsIG93bmVySWQsIGxpa2VzKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh0aXRsZSwgcGhvdG8sJy50ZW1wbGF0ZScsICgpID0+IHtcbiAgICBmdWxsU2NyZWVuUG9wdXAub3Blbih0aXRsZSwgcGhvdG8pO1xuICB9LCBudW1iZXJMaWtlcyxvd25lcklkLCBsaWtlcywgKCkgPT4ge1xuICAgICAgcG9wdXBEZWxldGVDYXJkLm9wZW4oKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1kZWxldGUtY2FyZF9fYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkKVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXJkLnJlbW92ZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgIHBvcHVwRGVsZXRlQ2FyZC5jbG9zZSgpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsICfRg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0LHQtdC3INC/0YDQuNGB0LLQvtC10L3QvdC+0LPQviBJRCcpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgfSlcbiAgfSwgKGV2dCk9PiB7XG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKSB7XG4gICAgICAgIGFwaS5saWtlQ2FyZChjYXJkSWQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FyZC52aWV3LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19udW1iZXInKS50ZXh0Q29udGVudCArKztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyciwgJ9C90LUg0L/RgNC40YHQstC+0LXQvSBJRCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcGkuZGVsZXRlTGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhcmQudmlldy5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbnVtYmVyJykudGV4dENvbnRlbnQgLS07XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsICfQvdC1INC/0YDQuNGB0LLQvtC10L0gSUQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCgpXG59XG5cblxucHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJJbmZvID0gaW5jbHVkZVVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHBvcHVwTmFtZS52YWx1ZSA9IHVzZXJJbmZvLm5hbWU7XG4gIHBvcHVwU3RhdHVzLnZhbHVlID0gdXNlckluZm8uc3RhdHVzO1xuICBwcm9maWxlRm9ybVZhbGlkaXR5LnNldFN1Ym1pdEJ1dHRvblN0YXRlKCk7XG4gICAgcG9wdXBQcm9maWxlLm9wZW4oKTtcbn0pO1xuXG5cbmJ1dHRvbkFkZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIG5ld0NhcmRGb3JtVmFsaWRpdHkuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgcG9wdXBDYXJkRm9ybS5vcGVuKCk7XG59KVxuY29uc3QgZWRpdEF2YXRhclZhbGlkaXR5ID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBlZGl0QXZhdGFyRm9ybSk7XG5jb25zdCBwcm9maWxlRm9ybVZhbGlkaXR5ID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybSk7XG5jb25zdCBuZXdDYXJkRm9ybVZhbGlkaXR5ID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBjYXJkRWxlbWVudCk7XG5cbnByb2ZpbGVGb3JtVmFsaWRpdHkuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbm5ld0NhcmRGb3JtVmFsaWRpdHkuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmVkaXRBdmF0YXJWYWxpZGl0eS5zZXRFdmVudExpc3RlbmVycygpO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiQ2FyZCIsImVsZW1lbnRUaXRsZSIsImVsZW1lbnRQaG90byIsInRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwibnVtYmVyTGlrZXMiLCJvd25lcklkIiwibGlrZXMiLCJoYW5kbGVEZWxldGVJY29uQ2xpY2siLCJoYW5kbGVMaWtlQ2FyZCIsInZpZXciLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQ2FyZCIsIl9oYW5kbGVEZWxldGVJY29uQ2xpY2siLCJfY2FyZEltYWdlIiwiX2hhbmRsZUNhcmRDbGljayIsIl90ZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJ0ZXh0Q29udGVudCIsIl9lbGVtZW50VGl0bGUiLCJhbHQiLCJzcmMiLCJfZWxlbWVudFBob3RvIiwiX251bWJlckxpa2VzIiwiX3NldExpc3RlbmVyIiwidW5kZWZpbmVkIiwiX2xpa2VzIiwiZm9yRWFjaCIsIml0ZW0iLCJfaWQiLCJwcm9maWxlSWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJfb3duZXJJZCIsInN0eWxlIiwiZGlzcGxheSIsInRoaXMiLCJkb2N1bWVudCIsInJlbW92ZSIsImNvbmZpZyIsIm5hbWVFcnJvciIsImJ1dHRvbkludmFsaWQiLCJidXR0b25WYWxpZCIsImJ1dHRvblN1Ym1pdCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiaW5wdXQiLCJ0YXJnZXQiLCJfc2V0Q3VzdG9tRXJyb3IiLCJzZXRTdWJtaXRCdXR0b25TdGF0ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfY29uZmlnIiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9mb3JtRWxlbWVudCIsImNoZWNrVmFsaWRpdHkiLCJfYnV0dG9uIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybUlucHV0IiwiUG9wdXAiLCJzZWxlY3RvclBvcHVwIiwicG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiY3VycmVudFRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU3VibWl0Rm9ybSIsIl9jYWxsYmFja1N1Ym1pdEZvcm0iLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9mb3JtIiwicmVzZXQiLCJ2YWx1ZXMiLCJpbnB1dEVsZW1lbnQiLCJuYW1lIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZVBvcHVwIiwiX3RpdGxlUG9wdXAiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXJTZWxlY3RvciIsImFwaUl0ZW1zIiwiYXBwZW5kIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlU3RhdHVzIiwicHJvZmlsZUF2YXRhciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlU3RhdHVzIiwiX3ByaWZpbGVBdmF0YXIiLCJzdGF0dXMiLCJBcGkiLCJ1cmwiLCJoZWFkZXJzIiwiX3VybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9nZXRSZXNwb25zZURhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwibGluayIsImNhcmRJZCIsImF2YXRhciIsImJ1dHRvbkFkZEVsZW1lbnQiLCJjYXJkRWxlbWVudCIsInByb2ZpbGVDaGFuZ2VBdmF0YXIiLCJwcm9maWxlRWRpdCIsInByb2ZpbGVGb3JtIiwicG9wdXBTdGF0dXMiLCJwb3B1cE5hbWUiLCJib3hBdmF0YXIiLCJlZGl0QXZhdGFyRm9ybSIsInBvcHVwRWRpdEF2YXRhciIsImRhdGEiLCJyZW5kZXJMb2FkaW5nIiwiYXBpIiwiY2hhbmdlUGhvdG9Qcm9maWxlIiwiaW5jbHVkZVVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsImVkaXRBdmF0YXJWYWxpZGl0eSIsIm9wZW4iLCJvcGFjaXR5IiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHNDb250YWluZXIiLCJyZW5kZXJTZWN0aW9uIiwicG9wdXBEZWxldGVDYXJkIiwiaXNMb2FkaW5nIiwicG9wdXBTZWxlY3RvciIsImdldFVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsImxlbmd0aCIsIm93bmVyIiwicG9wdXBQcm9maWxlIiwiZWRpdFVzZXJJbmZvIiwiZnVsbFNjcmVlblBvcHVwIiwicG9wdXBDYXJkRm9ybSIsImFkZEl0ZW1TdWJtaXQiLCJ0aXRsZSIsInBob3RvIiwiY2FyZCIsImRlbGV0ZUNhcmQiLCJyZW1vdmVFbGVtZW50IiwidG9nZ2xlIiwibGlrZUNhcmQiLCJkZWxldGVMaWtlQ2FyZCIsInVzZXJJbmZvIiwicHJvZmlsZUZvcm1WYWxpZGl0eSIsIm5ld0NhcmRGb3JtVmFsaWRpdHkiXSwic291cmNlUm9vdCI6IiJ9